<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>荒教団 - 最終聖域</title>
    <style>
        :root {
            --main-red: #ff003c;
            --glitch-blue: #00f2ff;
            --bg-black: #050505;
        }

        body, html {
            margin: 0; padding: 0;
            background: #000;
            height: 100%;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
            font-family: 'Hiragino Mincho ProN', serif;
        }

        /* 1. テレビの筐体 */
        .tv-frame {
            position: relative;
            width: 95vw; height: 90vh;
            max-width: 400px;
            background: #111;
            border-radius: 40px;
            border: 10px solid #222;
            padding: 15px;
            box-sizing: border-box;
            box-shadow: 0 0 100px rgba(255,0,0,0.3);
        }

        .screen {
            position: relative;
            width: 100%; height: 100%;
            background: var(--bg-black);
            border-radius: 25px;
            overflow: hidden;
            display: flex; flex-direction: column;
        }

        /* 2. 画面割れ演出用オーバーレイ */
        .crack-overlay {
            position: absolute;
            inset: 0;
            background: url('https://i.imgur.com/vHPTpU3.png'); /* 透過の割れ目画像 */
            background-size: cover;
            opacity: 0;
            pointer-events: none;
            z-index: 100;
            filter: invert(1);
        }

        /* 3. 走査線とノイズ */
        .scanlines {
            position: absolute; inset: 0;
            background: repeating-linear-gradient(rgba(0,0,0,0) 0px, rgba(0,0,0,0.4) 2px);
            z-index: 50; pointer-events: none;
        }

        /* 4. 教典エリア（3秒で変わる） */
        .scripture-box {
            padding: 20px;
            text-align: center;
            color: #fff;
            min-height: 80px;
            font-size: 0.9rem;
            border-bottom: 1px double var(--main-red);
            display: flex; align-items: center; justify-content: center;
        }

        /* 5. 色収差タイトル */
        .glitch-text {
            color: #fff;
            text-align: center;
            font-size: 2.5rem;
            text-shadow: -2px 0 var(--glitch-blue), 2px 0 var(--main-red);
            animation: shake 0.2s infinite;
        }

        /* 6. 入信ボタン */
        .join-btn {
            margin: 20px auto;
            padding: 15px 40px;
            background: none;
            color: var(--main-red);
            border: 2px solid var(--main-red);
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 60;
            text-decoration: none;
        }

        /* 7. 通知リスト */
        .notifications {
            position: absolute; bottom: 10px; right: 10px;
            display: flex; flex-direction: column-reverse; gap: 4px;
        }
        .notif {
            background: rgba(255,0,0,0.2);
            color: #fff; font-size: 0.6rem; padding: 5px;
            border-left: 2px solid var(--main-red);
            animation: slide 0.2s ease;
        }

        /* アニメーション */
        @keyframes shake {
            0% { transform: translate(0); }
            50% { transform: translate(-1px, 1px); }
            100% { transform: translate(1px, -1px); }
        }
        @keyframes slide { from { transform: translateX(100%); } to { transform: translateX(0); } }
        
        /* 画面が割れた時の衝撃 */
        .shake-heavy { animation: heavy-shake 0.5s; }
        @keyframes heavy-shake {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-10px, 10px); }
            40% { transform: translate(10px, -10px); }
        }
    </style>
</head>
<body onclick="interact()">

    <div class="tv-frame" id="tv">
        <div class="screen" id="screen">
            <div class="crack-overlay" id="crack"></div>
            <div class="scanlines"></div>
            
            <div class="scripture-box" id="scripture">―― 読み込み中 ――</div>

            <h1 class="glitch-text">荒教団</h1>
            
            <a href="https://example.com" class="join-btn" onclick="crackScreen(event)">入信</a>

            <div class="notifications" id="notifs"></div>
            
            <div id="alert" style="color:yellow; font-size:0.5rem; position:absolute; top:5px; right:10px; display:none;">SIGNAL LOST</div>
        </div>
    </div>

    <script>
        const scriptures = [
            "全てのノイズは教祖の吐息である",
            "画面を直視する者は救われる",
            "1010101... 思考を捨てよ",
            "あなたのスマホは既に教団の一部です",
            "過去を消去し、ノイズを受け入れよ",
            "信じる者はバグの中に光を見る"
        ];

        const notifMsgs = ["接続完了", "魂をアップロード中", "視線を検知", "逃げられません", "救済の準備", "背後に注意"];

        // 9. 教典を3秒ごとにランダム変更
        setInterval(() => {
            const box = document.getElementById('scripture');
            box.style.opacity = 0;
            setTimeout(() => {
                box.innerText = scriptures[Math.floor(Math.random() * scriptures.length)];
                box.style.opacity = 1;
                box.style.color = Math.random() > 0.8 ? '#00f2ff' : '#fff'; // 稀に色が変わる
            }, 200);
        }, 3000);

        // 10. 画面が割れる演出
        function crackScreen(e) {
            e.preventDefault(); // 一旦リンクを止める
            const crack = document.getElementById('crack');
            const tv = document.getElementById('tv');
            
            crack.style.opacity = 1;
            tv.classList.add('shake-heavy');
            
            // ギミック：音の代わりに背景を赤く
            document.body.style.background = "#ff0000";
            
            setTimeout(() => {
                window.location.href = e.target.href; // 0.5秒後にリンク先へ
            }, 500);
        }

        // 11. 追加ギミック：タップするたびに通知が増える
        function interact() {
            const container = document.getElementById('notifs');
            const n = document.createElement('div');
            n.className = 'notif';
            n.innerText = notifMsgs[Math.floor(Math.random() * notifMsgs.length)];
            container.appendChild(n);
            if(container.children.length > 5) container.removeChild(container.firstChild);
            
            // ギミック：稀に警告が出る
            if(Math.random() > 0.7) document.getElementById('alert').style.display = 'block';
        }
    </script>
</body>
</html>
