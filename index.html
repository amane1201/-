<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>荒教団</title>

<style>
:root{
    --main-red:#ff003c;
    --glitch-blue:#00f2ff;
    --bg-black:#050205;
}

html,body{
    margin:0;
    width:100vw;
    height:100dvh;
    background:#000;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:'Hiragino Mincho ProN',serif;
}

/* ===== TV ===== */
.tv-frame{
    position:relative;
    width:100vw;
    height:100dvh;
    background:#151515;
    border:15px solid #222;
    border-radius:40px;
    box-shadow:inset 0 0 50px #000;
    display:flex;
    flex-direction:column;
}

.screen{
    position:relative;
    flex:1;
    margin:10px;
    background:var(--bg-black);
    border-radius:30px;
    border:5px solid #000;
    overflow:hidden;
}

/* ===== 電源ON/OFF ===== */
.boot-overlay{
    position:absolute;
    inset:0;
    background:#000;
    z-index:50;
    display:flex;
    justify-content:center;
    align-items:center;
}

.boot-line{
    width:0;
    height:2px;
    background:#fff;
}

.boot-on .boot-line{
    animation:bootOn 1s ease-out forwards;
}

.boot-off .boot-line{
    width:100%;
    animation:bootOff .5s ease-in forwards;
}

@keyframes bootOn{
    0%{width:0;height:2px}
    60%{width:100%;height:2px}
    100%{width:100%;height:100%}
}

@keyframes bootOff{
    0%{height:100%}
    100%{height:2px}
}

/* ===== UI ===== */
.header{
    text-align:center;
    padding:30px 10px;
    color:#fff;
}

.glitch-title{
    font-size:2.8rem;
    text-shadow:-2px 0 var(--glitch-blue),2px 0 var(--main-red);
}

.join-btn{
    width:200px;
    margin:20px auto;
    padding:15px;
    text-align:center;
    border:2px solid var(--main-red);
    color:var(--main-red);
    font-size:1.3rem;
    background:rgba(255,0,60,.1);
    user-select:none;
    -webkit-user-select:none;
    -webkit-touch-callout:none;
    touch-action:none;
}

.join-btn.holding{
    color:#fff;
    background:rgba(255,0,60,.4);
}

/* ===== 割れ ===== */
.crack{
    position:absolute;
    inset:0;
    opacity:0;
    pointer-events:none;
    background:
      linear-gradient(45deg,transparent 48%,#fff 50%,transparent 52%);
    mix-blend-mode:screen;
}
</style>
</head>

<body>

<div class="tv-frame">
    <div class="screen" id="screen">

        <div class="boot-overlay boot-on" id="boot">
            <div class="boot-line"></div>
        </div>

        <div class="crack" id="crack"></div>

        <div class="header">
            <h1 class="glitch-title">荒教団</h1>
        </div>

        <div class="join-btn" id="join">長押しで入信</div>

    </div>
</div>

<script>
/* 電源ON完了 */
setTimeout(()=>{
    document.getElementById('boot').style.display="none";
},1000);

/* 長押し */
const btn=document.getElementById('join');
let timer;

btn.addEventListener('pointerdown',e=>{
    e.preventDefault();
    btn.classList.add('holding');
    btn.textContent="接続中…";
    timer=setTimeout(()=>{
        document.getElementById('crack').style.opacity=1;
        setTimeout(()=>{
            location.href="https://line.me/ti/g2/-xozZqx4BETwQPFgKCDV-g_Wqu0YtJmwlIIC0w";
        },500);
    },3000);
});

['pointerup','pointerleave','pointercancel'].forEach(ev=>{
    btn.addEventListener(ev,()=>{
        clearTimeout(timer);
        btn.classList.remove('holding');
        btn.textContent="長押しで入信";
    });
});

/* 電源OFF */
window.addEventListener('pagehide',()=>{
    const boot=document.getElementById('boot');
    boot.style.display="flex";
    boot.classList.remove('boot-on');
    boot.classList.add('boot-off');
});
</script>

</body>
</html>
